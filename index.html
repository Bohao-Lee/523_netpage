<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>523班 · 高中毕业十周年纪念</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- 引入 ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>
<body>
    <!-- 密码保护遮罩 -->
    <div class="password-overlay" id="password-overlay">
        <div class="password-modal">
            <img src="image/523.svg" alt="523班班徽" class="password-logo">
            <h2>523班纪念网站</h2>
            <p>请使用你的账号登录</p>
            <div class="login-form">
                <div class="input-group">
                    <label for="username-input"><i class="bi bi-person-fill"></i> 用户名</label>
                    <input type="text" id="username-input" placeholder="请输入用户名" autocomplete="off">
                </div>
                <div class="input-group">
                    <label for="password-input"><i class="bi bi-lock-fill"></i> 密码</label>
                    <input type="password" id="password-input" placeholder="请输入密码" autocomplete="off">
                </div>
                <button id="password-submit" class="login-btn">
                    <i class="bi bi-box-arrow-in-right"></i> 登录
                </button>
            </div>
            <p class="password-error" id="password-error"></p>
        </div>
    </div>

    <!-- 主内容区域（默认隐藏） -->
    <div class="main-content" id="main-content" style="display: none;">
        
        <!-- BGM播放器 -->
        <div class="bgm-player" id="bgm-player">
            <audio id="bgm-audio" loop>
                <source src="audio/五月天 - 干杯.mp3" type="audio/mpeg">
            </audio>
            <button class="bgm-btn" id="bgm-btn" title="播放/暂停背景音乐">
                <i class="bi bi-music-note-beamed" id="bgm-icon"></i>
            </button>
            <span class="bgm-title">🎵 干杯 - 五月天</span>
            <div class="bgm-volume-control">
                <button class="bgm-volume-btn" id="bgm-volume-btn" title="静音/取消静音">
                    <i class="bi bi-volume-up-fill" id="bgm-volume-icon"></i>
                </button>
                <input type="range" class="bgm-volume-slider" id="bgm-volume-slider" 
                       min="0" max="100" value="50" title="调节音量">
            </div>
        </div>
        
        <!-- 顶部标题区域 -->
        <header class="header">
            <div class="header-content">
                <img src="image/523.svg" alt="523班班徽" class="class-logo">
                <div class="header-text">
                    <h1>🎓 523班 · 高中毕业十周年纪念</h1>
                    <p class="subtitle">2016 - 2026 · 十年光阴，各自精彩</p>
                </div>
            </div>
        </header>

    <!-- 主要内容区域 -->
    <main class="main-container">
        <!-- 左侧：中国地图 -->
        <div class="map-container">
            <div class="map-header">
                <h2><i class="bi bi-geo-alt-fill"></i> 同学分布图</h2>
                <p>点击省份查看详情 · 共 <span id="total-count">0</span> 位同学</p>
            </div>
            <div id="china-map" class="china-map">
                <!-- 地图将由 JavaScript 渲染 -->
            </div>
            
            <div class="map-legend">
                <div class="legend-item">
                    <span class="legend-dot" style="background: #ff6b6b;"></span>
                    <span>5人以上</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #ffd93d;"></span>
                    <span>2-4人</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #6bcb77;"></span>
                    <span>1人</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #e0e0e0;"></span>
                    <span>暂无</span>
                </div>
            </div>
            
            <!-- 海外同学区域 -->
            <div class="overseas-section">
                <div class="overseas-header">
                    <h3><i class="bi bi-globe2"></i> 海外同学</h3>
                    <span class="overseas-count" id="overseas-count">0</span>人
                </div>
                <div class="overseas-list" id="overseas-list">
                    <!-- 海外同学将由 JavaScript 渲染 -->
                </div>
            </div>
        </div>

        <!-- 右侧：详情面板 -->
        <div class="detail-panel" id="detail-panel">
            <div class="detail-header">
                <h2 id="province-name">欢迎来到523班纪念网站</h2>
                <span class="close-btn" id="close-btn">&times;</span>
            </div>
            <div class="detail-content" id="detail-content">
                <div class="welcome-message">
                    <div class="welcome-icon">🌟</div>
                    <h3>十年相聚，共叙情谊</h3>
                    <p>点击地图上的省份，查看在该地区工作生活的同学们~</p>
                    <div class="stats-overview">
                        <div class="stat-item">
                            <span class="stat-number" id="stat-provinces">0</span>
                            <span class="stat-label">个省份</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="stat-classmates">0</span>
                            <span class="stat-label">位同学</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="stat-industries">0</span>
                            <span class="stat-label">个行业</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 底部同学列表 -->
    <section class="classmates-section">
        <div class="section-header">
            <h2><i class="bi bi-people-fill"></i> 全部同学</h2>
            <div class="scroll-hint">
                <i class="bi bi-arrow-down-up"></i> 上下滚动查看更多
            </div>
        </div>
        <div class="filter-bar">
            <input type="text" id="search-input" placeholder="搜索同学姓名..." class="search-input">
            <select id="province-filter" class="province-filter">
                <option value="">全部省份</option>
            </select>
            <select id="industry-filter" class="industry-filter">
                <option value="">全部行业</option>
            </select>
        </div>
        <div class="classmates-grid" id="classmates-grid">
            <!-- 同学卡片将由 JavaScript 渲染 -->
        </div>
    </section>

    <!-- 恩师风采区域 -->
    <section class="teachers-section">
        <h2><i class="bi bi-mortarboard-fill"></i> 恩师风采</h2>
        <p class="section-desc">感谢老师们的辛勤培育，桃李满天下！</p>
        <div class="teachers-grid" id="teachers-grid">
            <!-- 老师卡片将由 JavaScript 渲染 -->
        </div>
    </section>

    <!-- 动态墙区域 -->
    <section class="moments-section">
        <div class="section-header">
            <h2><i class="bi bi-chat-heart-fill"></i> 班级动态</h2>
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="messages">
                    <i class="bi bi-chat-quote-fill"></i> 留言墙
                </button>
                <button class="tab-btn" data-tab="photos">
                    <i class="bi bi-images"></i> 照片墙
                </button>
            </div>
        </div>
        
        <!-- 发布动态区域 -->
        <div class="post-moment-container">
            <div class="post-moment-header">
                <i class="bi bi-envelope-heart-fill" style="font-size: 1.5rem; color: var(--primary-color);"></i>
                <span class="submit-title">想要发布动态或上传照片？</span>
            </div>
            <div class="submit-info">
                <p>请将你的留言或照片发送至：</p>
                <div class="contact-methods">
                    <a href="mailto:libohao1998@gmail.com?subject=523班动态投稿&body=姓名：%0A内容：%0A" class="contact-btn email-btn">
                        <i class="bi bi-envelope-fill"></i> libohao1998@gmail.com
                    </a>
                    <span class="contact-divider">或联系</span>
                    <span class="contact-btn wechat-btn">
                        <i class="bi bi-person-fill"></i> 李博豪
                    </span>
                </div>
                <p class="submit-note">收到后我会尽快更新到网站上 📮</p>
            </div>
            
            <!-- 快捷留言表单（发送到邮箱） -->
            <div class="quick-submit-form">
                <div class="form-header">
                    <i class="bi bi-send-fill"></i> 快捷留言（自动发送到管理员邮箱）
                </div>
                <div class="post-moment-form">
                    <div class="form-row">
                        <span class="form-label">发送者：</span>
                        <span class="form-value" id="sender-name">-</span>
                    </div>
                    <textarea id="moment-content" placeholder="写下你想说的话..." maxlength="500"></textarea>
                    <div class="post-moment-footer">
                        <span class="char-count"><span id="char-count">0</span>/500</span>
                        <button id="post-moment-btn" class="post-btn">
                            <i class="bi bi-send-fill"></i> 发送留言
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 留言墙 -->
        <div class="tab-content active" id="messages-tab">
            <div class="messages-grid" id="messages-grid">
                <!-- 留言将由 JavaScript 渲染 -->
            </div>
        </div>
        
        <!-- 照片墙 -->
        <div class="tab-content" id="photos-tab">
            <div class="photos-grid" id="photos-grid">
                <!-- 照片将由 JavaScript 渲染 -->
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="footer">
        <p>523班 · 高中毕业十周年纪念 · 2016-2026</p>
        <p>愿我们都能成为更好的自己 ❤️</p>
    </footer>

    </div><!-- 主内容区域结束 -->

    <!-- 引入脚本 -->
    <script src="js/image-crypto.js"></script>
    <script src="js/china-map.js"></script>
    <script src="js/classmates-data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
